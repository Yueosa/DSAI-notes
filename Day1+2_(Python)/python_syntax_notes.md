# 🐍 Python 学习笔记（基础语法篇）

---

## 📌 基础语法掌握

### 🔹 变量与类型

```python
name: str = "Alice"    # str
age: int = 18          # int
score: float = 92.5      # float
is_ready: bool = True   # bool
```

> 使用 `type(x)` 查看变量类型。
> **python** 是弱类型语言，但仍然推荐在定义时就写明类型

---

### 🔹 输入输出

```python
name: str = input("请输入姓名：")
print("你好,", name)
```

#### `f""` 字符串格式化（推荐）

```python
f"你好，{name}，你今年 {age} 岁了！"
```

等价于：

```python
"你好，{}，你今年 {} 岁了！".format(name, age)
```

#### 保留小数位写法：

```python
f"{score:.2f}"  # 保留2位小数
```

---

### 🔹 条件语句

```python
if score >= 90:
    print("优秀")
elif score >= 60: # 也可以写作 90 > score >= 60
    print("及格")
else:
    print("不及格")
```

> 条件判断是从上往下执行的，所以下层判断没必要写成区间形式

---

### 🔹 循环结构

#### `for` 遍历

```python
"遍历列表"
fruits: list[str] = ["🍎", "🍌", "🍓"]
for fruit in fruits:
    print(fruit)
else:
    print('全部输出完毕！')
```

> `for` 循环中的 `else` 语句像是一个成功监听器，他会在循环完美结束后触发

#### `enumerate()` 推荐：同时获得索引和值

```python
"遍历列表"
for i, fruit in enumerate(fruits):
    print(i, fruit)
else:
    print('全部输出完毕！')
```

#### `while` 循环

```python
x = 0
while x < 5: # 当 x >= 5 时为False，触发 else 语句块
    print(x)
    x += 1
else:
    print('退出循环！')
```

> `while` 循环中的 `else` 语句是一个健康监听器，她只有在循环以 `False` 结束时触发

---

## 🔣 符号

### 🔹 算术运算符

| 符号 | 示例             | 说明         |
| ---- | ---------------- | ------------ |
| `+`  | `3 + 2` -> `5`   | 加法         |
| `-`  | `3 - 2` -> `1`   | 减法         |
| `*`  | `3 * 2` -> `6`   | 乘法         |
| `/`  | `3 / 2` -> `1.5` | 浮点除法     |
| `//` | `7 // 3` -> `2`  | 向下取整除法 |
| `%`  | `7 % 3` -> `1`   | 除法的余数   |
| `**` | `2 ** 3` -> `8`  | 幂运算       |

### 🔹 比较运算符

| 符号 | 示例               | 说明     |
| ---- | ------------------ | -------- |
| `==` | `3 == 3` -> `True` | 相等判断 |
| `!=` | `3 != 2` -> `True` | 不等判断 |
| `>`  | `3 > 2` -> `True`  | 大于     |
| `<`  | `2 < 3` -> `True`  | 小于     |
| `>=` | `3 >= 3` -> `True` | 大于等于 |
| `<=` | `2 <= 3` -> `True` | 小于等于 |

### 🔹 赋值运算符

| 符号  | 示例                          | 说明       |
| ----- | ----------------------------- | ---------- |
| `=`   | `a = 5`                       | 赋值       |
| `:=`  | `if (n := len(data)) > 5`     | 赋值并使用 |
| `+=`  | `x += 2` 等价于 `x = x + 2`   | 加法赋值   |
| `-=`  | `x -= 2` 等价于 `x = x - 2`   | 减法赋值   |
| `*=`  | `x *= 2` 等价于 `x = x * 2`   | 乘法赋值   |
| `/=`  | `x /= 2` 等价于 `x = x / 2`   | 除法赋值   |
| `%=`  | `x %= 2` 等价于 `x = x % 2`   | 取余赋值   |
| `**=` | `x **= 2` 等价于 `x = x ** 2` | 幂运算赋值 |

### 🔹 逻辑运算符

| 符号  | 示例                         | 说明                     |
| ----- | ---------------------------- | ------------------------ |
| `and` | `x > 0 and x < 10` -> `True` | 与运算，两者都为真时为真 |
| `or`  | `x < 0 or x > 10` -> `True`  | 或运算，其一为真时为真   |
| `not` | `not x > 10` -> `True`       | 非运算，取反             |

### 🔹 成员运算符

| 符号     | 示例                           | 说明           |
| -------- | ------------------------------ | -------------- |
| `in`     | `"香" in "香蕉"` -> `True`     | 判断是否包含   |
| `not in` | `"梨" not in "香蕉"` -> `True` | 判断是否不包含 |

### 🔹 身份运算符

| 符号     | 示例                      | 说明                 |
| -------- | ------------------------- | -------------------- |
| `is`     | `x is None` -> `True`     | 判断是否为同一对象   |
| `is not` | `x is not None` -> `True` | 判断是否不为同一对象 |

---

## 📦 数据结构

### 🔸 列表 List

创建、操作、删除：

```python
fruits = ["🍎", "🍌", "🍓"] # 定义列表
fruits.append("🍇") # 朝列表最后加入
fruits.insert(1, "🍍") # 朝指定位置插入(插入到索引1, 其他元素往后挪一位)
fruits.pop() # 删除并返回最后一个值
fruits.pop(0) # 删除并返回第一个值
```

#### ✅ 列表推导式

```python
nums = [3, -5, 7, -2]
nums = [i for i in nums if i > 0]  # 保留正数
```

#### ✅ 删除元素（推荐倒序或推导式）

```python
for i in range(len(nums)-1, -1, -1):
    if nums[i] <= 0:
        nums.pop(i)
```

> `range` 中的参数是 `(起始, 终止, 步长)`

---

### 🔸 字典 Dict

```python
student = {"name": "小明", "age": 18}
student["score"] = 95      # 添加
del student["age"]         # 删除

for k, v in student.items():
    print(k, v)
```

#### 字典取值方法：

-   `.keys()`：所有键
-   `.values()`：所有值
-   `.items()`：键值对元组

⚠️ 字典**没有下标**，不能用 `dict[0]`

---

## 🧠 函数定义与类型注解

#### (1) 在定义变量时声明类型

```python
name: str = '恋'
age: int = 19
```

#### (2) 在定义函数时声明类型

```python
def greet(name: str) -> str:
    return f"你好，{name}"
```

#### (3) 在类的属性里声明类型

```python
class Girl:
    name: str
    age: int
```

### 类型表

### 🔹 基本类型

| 类型   | 类型写法   | 本质 / 说明                                    |
| ------ | ---------- | ---------------------------------------------- |
| 字符串 | `str`      | **Unicode** 字符，理论上长度只受内存限制，只读 |
| 整数   | `int`      | 大整数，长度只受内存限制                       |
| 浮点数 | `float`    | C 的 `double`，精度为 15-17 位有效数字         |
| 布尔值 | `bool`     | `int`的子类                                    |
| 空值   | `NoneType` |
| 无穷大 | `inf`      | 表示数学上的 “正无穷大”                        |
| 非数值 | `nan`      | “not a number”，经常用作“缺失值”、“非法值”     |
| 任意   | `Any`      | 万能类型                                       |

### 🔹 集合类型

| 类型           | 类型写法                              | 说明                                   |
| -------------- | ------------------------------------- | -------------------------------------- |
| 有序列表集     | `list[int]` `list[str]`               | 所有元素都是这个类型的列表             |
| 键值对集合     | `dict[str, int]` `dict[str, int]`     | `dict[ketType, ValueType]`             |
| 无序不重复集   | `set[str]` `set[int]`                 | `set[类型]`                            |
| 固定数多类型集 | `tuple[float, str]` `tuple[int, ...]` | 固定数量，每个位置类型可不同的元素组合 |

### 🔹 函数类型

| 类型         | 类型写法               | 说明                                                 |
| ------------ | ---------------------- | ---------------------------------------------------- |
| 接受函数类型 | `Callable[[int], int]` | 表示接受一个函数，这个函数接受一个 int，返回一个 int |
| 可选类型     | `Optional[str]`        | 等价于 `str \| None`                                 |

### 🔹 其他类型

| 类型     | 类型写法              | 说明                               |
| -------- | --------------------- | ---------------------------------- |
| 字面量   | `Literal['男', '女']` | 只接受特定值                       |
| 不可变   | `PI: Final = 3.14`    | 不可变类型                         |
| 泛型     | `TypeVar / Generic`   | 定义类模板，在实例化时才指定类型   |
| 类型字典 | `TypedDict`           | 用来描述 `json`、`dict` 这样的结构 |
| 字段元组 | `NamedTuple`          | 用来定义有字典的元组               |

##### 举例：类型字典

```python
from typing import TypedDict

class UserIndo(TypedDict):
    name: str
    age: int

def show_info(user: UserInfo):
    print(f"{user['name']} - {user['age']}")
```

##### 举例：字段元组

```python
from typing import NamedTuple

class Nofg(NamedTuple):
    x: tuple[str, bool]
    y: tuple[int, ...]

admin = Nofg(('admin', True), (1, 2, 3))
print(admin.x, admin.y)
```

---
